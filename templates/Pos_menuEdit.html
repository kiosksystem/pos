<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>메뉴 편집</title>
    <link rel="stylesheet" href="../static/css/Pos_formCommon.css">
    <link rel="stylesheet" href="../static/css/Pos_menuEdit.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>
<body>
    {% include '/common/header.html' %}
    <div id="main_container"> 
        <div id="Pos_form_container">
            <div id="Pos_form">
                <div class="menu_left">
                    <div id="menu_list">

                        <div class="select_menu">
                            {% for menu in menuList %}
                                <div id="menu_inform" class="menu_inform">
                                    <img class="menu_img" src="../static/menuimg/{{ menu.file_name }}">
                                    <div><input id="menu_nameTxtLeft" class="text" readonly value="{{ menu.menu_name }}" ></div>
                                    <div><input name="menu_priceTxtLeft" class="text" readonly value="{{ menu.menu_price }}" ></div>
                                </div>
                                <button type="submit" class="select_btn" >선택</button>
                            <form method="POST" action="/menueditdelete">
                                <input type="hidden" name="menuid" id="menuid" class="menuid" value="{{ menu.menu_id }}">
                                <button type="submit" id="delete_btn" class="delete_btn">삭제</button>
                            </form>
                             {% endfor %}
                        </div>

                    </div>

                </div>
                <div class="menu_right">
                    <div id="menu_edit">
                        
                        <div class="btn_list">
                            <button type="button" class="add_btn">추가</button>                              
                        </div>

                        <form method="POST" action="/menueditinsert" enctype="multipart/form-data">
                            <div>
                                <input name="menu_img" type="file" class="menu_img" id="menu_img">
                                <canvas id="imagecanvas">
                                    <script>
                                        const canvas = document.querySelector('#jsCanvas');
                                        const ctx = canvas.getContext('2d');
                                        const browseBtn = document.querySelector('.browse-btn');
                                        const realInput = document.querySelector('#real-input');

                                        function readInputFile(e) {
                                        var file = e.target.files;

                                        var reader = new FileReader();
                                        reader.onload = function (e) {
                                            var img = new Image();
                                            img.onload = function () {
                                            canvas.width = img.width;
                                            canvas.height = img.height;
                                            ctx.drawImage(img, 0, 0);
                                            };
                                            img.src = e.target.result;
                                        };
                                        reader.readAsDataURL(file[0]);
                                        }

                                        realInput.addEventListener('change', readInputFile);
                                    </script>
                                </canvas>
                            </div>                           
                            <div><input name="menu_nameTxtRight" class="menu_nameTxt"  value="{{ menuname }}" placeholder="메뉴 이름"></div>                            
                            <div><input name="menu_priceTxtRight" class="menu_priceTxt" value="{{ menuprice }}" placeholder="메뉴 가격"></div>                          
                            <div>
                                <button type="submit" class="btn">저장</button>
                                <button type="button" class="btn">취소</button>
                            </div>
                        </form>

                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>